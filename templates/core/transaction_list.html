{% extends "base.html" %}
{% load django_bootstrap5 %}
{% block title %}Transactions{% endblock %}
{% block content %}
<a class="btn btn-primary mb-3" href="{% url 'transaction-add' %}">Add transaction</a>

<form method="get" class="mb-3">
  {% bootstrap_form filter.form %}
  {% bootstrap_button 'Filter' button_type='submit' %}
  <a class="btn btn-secondary" href="{% url 'transactions' %}">Reset</a>
</form>

<table class="table">
  <thead>
    <tr>
      <th>Date</th><th>Type</th><th>Category</th><th>Subcategory</th><th>Amount</th><th></th>
    </tr>
  </thead>
  <tbody>
    {% for tx in object_list %}
    <tr>
      <td>{{ tx.created_at }}</td>
      <td>{{ tx.tx_type }}</td>
      <td>{{ tx.category }}</td>
      <td>{{ tx.sub_category }}</td>
      <td>{{ tx.amount }}</td>
      <td>
        <a class="btn btn-sm btn-secondary" href="{% url 'transaction-edit' tx.pk %}">Edit</a>
        <a class="btn btn-sm btn-danger" href="{% url 'transaction-delete' tx.pk %}">Delete</a>
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="6">No transactions</td></tr>
    {% endfor %}
  </tbody>
</table>
{% if is_paginated %}
  {% bootstrap_pagination page_obj %}
{% endif %}
{% endblock %}